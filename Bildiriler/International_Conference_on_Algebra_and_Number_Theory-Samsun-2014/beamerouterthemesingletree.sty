\newif\ifbeamer@tree@showhooks
\beamer@tree@showhookstrue

\DeclareOptionBeamer{hooks}[true]{\csname beamer@tree@showhooks#1\endcsname}
\ProcessOptionsBeamer

\mode<presentation>

\defbeamertemplate*{headline}{tree theme}
{
    \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.125ex,
      leftskip=.3cm,rightskip=.3cm plus1fil]{section in head/foot}
      \usebeamerfont{section in head/foot}
      \ifbeamer@tree@showhooks
        \setbox\beamer@tempbox=\hbox{\insertsectionhead}
      \insertsectionhead
    \end{beamercolorbox}
    \begin{beamercolorbox}[wd=\paperwidth,colsep=1.5pt]{lower separation line head}
    \end{beamercolorbox}
}

\mode
<all>